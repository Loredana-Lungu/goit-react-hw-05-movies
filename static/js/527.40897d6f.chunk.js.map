{"version":3,"file":"static/js/527.40897d6f.chunk.js","mappings":"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","sources":["components/Movies/Movies.styled.js","components/Movies/Movies.jsx"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const StyledLink = styled(Link)`\n  color: rgb(105, 15, 194);\n`;\n\nexport const Li = styled.li`\n  margin-top: 7px;\n`;\n\nexport const SearchInput = styled.input`\n  width: 300px;\n  height: 40px;\n  margin-right: 10px;\n  padding: 0 10px;\n  border: 1px solid rgb(200, 200, 200);\n  border-radius: 5px;\n  font-size: 16px;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  \n  &:hover {\n    border-color: rgb(105, 15, 194);\n  }\n\n  &:focus {\n    outline: none;\n    border-color: rgb(105, 15, 194);\n    box-shadow: 0 2px 5px rgba(105, 15, 194, 0.3);\n  }\n`;\n\nexport const SearchButton = styled.button`\n  width: 120px;\n  height: 40px;\n  background-color: rgb(105, 15, 194);\n  color: white;\n  border: none;\n  border-radius: 5px;\n  font-size: 16px; \n  cursor: pointer;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); \n\n  &:hover {\n    background-color: rgb(85, 10, 155); \n  }\n\n  &:active {\n    background-color: rgb(65, 5, 125);\n  }\n`;\n","import axios from \"axios\";\nimport { useEffect, useState, useRef } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { PropTypes } from 'prop-types';\nimport { StyledLink, Li, SearchInput, SearchButton } from './Movies.styled';\n\nconst Movies = () => {\n    const [searchQuery, setSearchQuery] = useState('');\n    const [searchResults, setSearchResults] = useState([]);\n    const [error, setError] = useState(false);\n    const location = useLocation();\n    const inputRef = useRef(null);\n\n    useEffect(() => {\n        if (location.state?.searchResults && location.state?.searchQuery) {\n            console.log('Restoring state:', location.state);\n            setSearchResults(location.state.searchResults);\n            setSearchQuery(location.state.searchQuery);\n        }\n    }, [location.state]);\n\n    useEffect(() => {\n        if (inputRef.current) {\n            inputRef.current.focus();\n        }\n    }, []);\n\n    const handleSearchFilterSubmit = async event => {\n        event.preventDefault();\n        console.log('Submitting search query:', searchQuery);\n\n        try {\n            const response = await axios.get(\n                'https://api.themoviedb.org/3/search/movie',\n                {\n                    params: {\n                        query: searchQuery,\n                        include_adult: false,\n                        language: 'en-US',\n                        page: 1,\n                    },\n                    headers: {\n                        Authorization: `Bearer ${process.env.REACT_APP_BEARER_TOKEN}`,\n                        Accept: 'application/json',\n                    },\n                }\n            );\n            console.log('Fetched movies:', response.data.results);\n            setSearchResults(response.data.results);\n            setError(false);\n        } catch (error) {\n            console.error('Error fetching movies:', error);\n            setError(true);\n            setSearchResults([]);\n        }\n    };\n\n    const handleSearchValueChange = event => {\n        setSearchQuery(event.target.value);\n    };\n\n    return (\n        <div>\n            <form onSubmit={handleSearchFilterSubmit}>\n                <SearchInput\n                    ref={inputRef}\n                    type=\"text\"\n                    value={searchQuery}\n                    placeholder=\"Search for a movie...\"\n                    onChange={handleSearchValueChange}\n                />\n                <SearchButton type=\"submit\">Search</SearchButton>\n            </form>\n            {error && <div className=\"error-message\">Error fetching movies. Please try again later.</div>}\n            <ul>\n                {searchResults.map(movie => (\n                    <Li key={movie.id}>\n                        <StyledLink \n                            to={`/movies/${movie.id}`}\n                            state={{ from: \"/movies\", searchResults, searchQuery }}\n                        >\n                            {movie.title || movie.name}\n                        </StyledLink>\n                    </Li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nMovies.propTypes = {\n    searchQuery: PropTypes.string,\n    searchResults: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            title: PropTypes.string,\n            name: PropTypes.string\n        })\n    ),\n    location: PropTypes.shape({\n        state: PropTypes.shape({\n            from: PropTypes.string,\n            searchResults: PropTypes.array,\n            searchQuery: PropTypes.string\n        })\n    }),\n};\n\nexport default Movies;\n"],"names":["StyledLink","styled","Link","_templateObject","_taggedTemplateLiteral","Li","li","_templateObject2","SearchInput","input","_templateObject3","SearchButton","button","_templateObject4","_useState","useState","_useState2","_slicedToArray","searchQuery","setSearchQuery","_useState3","_useState4","searchResults","setSearchResults","_useState5","_useState6","error","setError","location","useLocation","inputRef","useRef","useEffect","_location$state","_location$state2","state","console","log","current","focus","handleSearchFilterSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","response","wrap","_context","prev","next","preventDefault","axios","get","params","query","include_adult","language","page","headers","Authorization","concat","process","Accept","sent","data","results","t0","stop","_x","apply","arguments","_jsxs","children","onSubmit","_jsx","ref","type","value","placeholder","onChange","target","className","map","movie","to","id","from","title","name"],"sourceRoot":""}